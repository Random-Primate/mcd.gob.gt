.container
  = form_for resource, as: resource_name, url: registration_path(resource_name), html: { class: 'form-devise', method: :put } do |f|
    %h2
      = 'Edit'
      = resource_name.to_s.humanize
    = devise_error_messages!
    = f.email_field :email, autofocus: true, :class => 'form-control'
    - if devise_mapping.confirmable? && resource.pending_reconfirmation?
      = 'Currently waiting confirmation for:'
      = resource.unconfirmed_email
    = f.collection_select :role, User::ROLES, :to_s, lambda{|i| i.to_s.humanize}
    = f.password_field :password, autocomplete: 'off', placeholder: 'New Password', :class => 'form-control', id: 'newpwd'
    = f.password_field :password_confirmation, autocomplete: 'off', placeholder: 'Confirm New Password', :class => 'form-control', id: 'confpwd'
    = f.password_field :current_password, autocomplete: 'off', placeholder: 'Current Password', :class => 'form-control', id: 'currentpwd'
    = f.submit 'Update', :class => 'btn btn-lg btn-primary btn-block'
    %hr.faded
    %i.requirements
      = "Leave password field blank if you don't want to change it."
      %br
      %br
    %i.requirements
      = 'We need your current password to confirm your changes.'
      %br
      %br
      = link_to 'Back', :back
    %h3
      = 'Unhappy?'
      %p
        = button_to 'Cancel my account', registration_path(resource_name), data: { confirm: 'Are you sure?' }, method: :delete, class: 'btn btn-default'